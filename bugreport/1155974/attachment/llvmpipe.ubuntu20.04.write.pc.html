<canvas id="canvas">

<script>
vertSrc = `
  precision mediump float;

  attribute float floatAttr;
  varying float floatVar;

  void main(void) {
    gl_Position = vec4(floatAttr, 0.0, 0.0, 1.0);
    floatVar = floatAttr;
  }
`;

fragSrc = `
  precision mediump float;

  varying float floatVar;


  int x[0x00080];
  void main(void) {
    x[0x7f] = 0x7f;
    x[0x7e] = 0x7e;
    x[0x7d] = 0x7d;
    x[0x7c] = 0x7c;
    x[0x7b] = 0x7b;
    x[0x7a] = 0x7a;
    x[0x79] = 0x79;
    x[0x78] = 0x78;
    x[0x77] = 0x77;
    x[0x76] = 0x76;
    x[0x75] = 0x75;
    x[0x74] = 0x74;
    x[0x73] = 0x73;
    x[0x72] = 0x72;
    x[0x71] = 0x71;
    x[0x70] = 0x70;
    x[0x6f] = 0x6f;
    x[0x6e] = 0x6e;
    x[0x6d] = 0x6d;
    x[0x6c] = 0x6c;
    x[0x6b] = 0x6b;
    x[0x6a] = 0x6a;
    x[0x69] = 0x69;
    x[0x68] = 0x68;
    x[0x67] = 0x67;
    x[0x66] = 0x66;
    x[0x65] = 0x65;
    x[0x64] = 0x64;
    x[0x63] = 0x63;
    x[0x62] = 0x62;
    x[0x61] = 0x61;
    x[0x60] = 0x60;
    x[0x5f] = 0x5f;
    x[0x5e] = 0x5e;
    x[0x5d] = 0x5d;
    x[0x5c] = 0x5c;
    x[0x5b] = 0x5b;
    x[0x5a] = 0x5a;
    x[0x59] = 0x59;
    x[0x58] = 0x58;
    x[0x57] = 0x57;
    x[0x56] = 0x56;
    x[0x55] = 0x55;
    x[0x54] = 0x54;
    x[0x53] = 0x53;
    x[0x52] = 0x52;
    x[0x51] = 0x51;
    x[0x50] = 0x50;
    x[0x4f] = 0x4f;
    x[0x4e] = 0x4e;
    x[0x4d] = 0x4d;
    x[0x4c] = 0x4c;
    x[0x4b] = 0x4b;
    x[0x4a] = 0x4a;
    x[0x49] = 0x49;
    x[0x48] = 0x48;
    x[0x47] = 0x47;
    x[0x46] = 0x46;
    x[0x45] = 0x45;
    x[0x44] = 0x44;
    x[0x43] = 0x43;
    x[0x42] = 0x42;
    x[0x41] = 0x41;
    x[0x40] = 0x40;
    x[0x3f] = 0x3f;
    x[0x3e] = 0x3e;
    x[0x3d] = 0x3d;
    x[0x3c] = 0x3c;
    x[0x3b] = 0x3b;
    x[0x3a] = 0x3a;
    x[0x39] = 0x39;
    x[0x38] = 0x38;
    x[0x37] = 0x37;
    x[0x36] = 0x36;
    x[0x35] = 0x35;
    x[0x34] = 0x34;
    x[0x33] = 0x33;
    x[0x32] = 0x32;
    x[0x31] = 0x31;
    x[0x30] = 0x30;
    x[0x2f] = 0x2f;
    x[0x2e] = 0x2e;
    x[0x2d] = 0x2d;
    x[0x2c] = 0x2c;
    x[0x2b] = 0x2b;
    x[0x2a] = 0x2a;
    x[0x29] = 0x29;
    x[0x28] = 0x28;
    x[0x27] = 0x27;
    x[0x26] = 0x26;
    x[0x25] = 0x25;
    x[0x24] = 0x24;
    x[0x23] = 0x23;
    x[0x22] = 0x22;
    x[0x21] = 0x21;
    x[0x20] = 0x20;
    x[0x1f] = 0x1f;
    x[0x1e] = 0x1e;
    x[0x1d] = 0x1d;
    x[0x1c] = 0x1c;
    x[0x1b] = 0x1b;
    x[0x1a] = 0x1a;
    if(floatVar > 0.) 
      x[0x1a] = 0x4344;
    else
      x[0x1a] = 0x45464748;
    x[0x19] = 0x19;
    x[0x18] = 0x18;
    x[0x17] = 0x17;
    x[0x16] = 0x16;
    x[0x15] = 0x15;
    x[0x14] = 0x14;
    x[0x13] = 0x13;
    x[0x12] = 0x12;
    x[0x11] = 0x11;
    x[0x10] = 0x10;
    x[0x0f] = 0x0f;
    x[0x0e] = 0x0e;
    x[0x0d] = 0x0d;
    x[0x0c] = 0x0c;
    x[0x0b] = 0x0b;
    x[0x0a] = 0x0a;
    x[0x09] = 0x09;
    x[0x08] = 0x08;
    x[0x07] = 0x07;
    x[0x06] = 0x06;
    x[0x05] = 0x05;
    x[0x04] = 0x04;
    x[0x03] = 0x03;
    x[0x02] = 0x02;
    x[0x01] = 0x01;

    //gl_FragColor = vec4( float(x[0+offset]), float(x[1+offset]), float(x[2+offset]), 1);

    // Here we allocate memory, without writing to it
    if (int(x[0]) == 42) {
      int pad[0x40000];
      gl_FragColor += vec4(float(pad[42]));
    }
  }
`

canvas = document.querySelector('#canvas');
gl = canvas.getContext('webgl');
width = 2;
height = 2;
canvas.width = width;
canvas.height = height;

gl.viewport(0,0, gl.drawingBufferWidth, gl.drawingBufferHeight);
gl.clearColor(0,1,0,1);

// Compile vertex and fragment shader
vert = gl.createShader(gl.VERTEX_SHADER);
gl.shaderSource(vert, vertSrc);
gl.compileShader(vert);
if (!gl.getShaderParameter(vert, gl.COMPILE_STATUS)) {
    alert(gl.getShaderInfoLog(vert));
}


frag = gl.createShader(gl.FRAGMENT_SHADER);
gl.shaderSource(frag, fragSrc);
gl.compileShader(frag);
if (!gl.getShaderParameter(frag, gl.COMPILE_STATUS)) {
    alert(gl.getShaderInfoLog(frag));
}

// Link together into a program
program = gl.createProgram();
gl.attachShader(program, vert);
gl.attachShader(program, frag);
gl.linkProgram(program);
gl.useProgram(program);

buffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
var data = [0,1]; //Line from -1 to 1. With size 2 this will sample -0.5 0.5
gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);

floatAttr = gl.getAttribLocation(program, "floatAttr");
gl.enableVertexAttribArray(floatAttr);
gl.vertexAttribPointer(floatAttr, 1, gl.FLOAT, false, 0, 0);

gl.clear(gl.COLOR_BUFFER_BIT);
//gl.drawArrays(gl.POINTS, 0, 9);
gl.drawArrays(gl.LINES, 0, 2);
//        gl.drawArrays(gl.TRIANGLES, 0, 3);


</script>
